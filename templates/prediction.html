<!-- <!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Prediction Result</title>
    <style>
        body {
            font-family: 'Segoe UI', sans-serif;
            background-color: #f4f7f8;
            margin: 0;
            padding: 0;
        }

        .container {
            max-width: 600px;
            margin: 100px auto;
            padding: 40px;
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        h1 {
            color: #2c3e50;
            margin-bottom: 20px;
        }

        p {
            font-size: 18px;
            color: #333;
            margin: 10px 0;
        }

        .highlight {
            font-weight: bold;
            font-size: 20px;
            color: #d32f2f;
        }

        .btn-group {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
        }

        a,
        button {
            padding: 10px 20px;
            background-color: #4CAF50;
            color: white;
            text-decoration: none;
            border: none;
            border-radius: 6px;
            font-size: 16px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        a:hover,
        button:hover {
            background-color: #388e3c;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>Prediction Result</h1>

        {% if result %}
            <p><strong>Patient Name:</strong> {{ name }}</p>
            <p><strong>Systolic BP:</strong> {{ systolic }}</p>
            <p><strong>Diastolic BP:</strong> {{ diastolic }}</p>
            <p class="highlight">Predicted Stage: {{ result }}</p>

            <div class="btn-group">
                <a href="/">Back to Home</a>
                <form action="/download-report" method="post">
                    <input type="hidden" name="name" value="{{ name }}">
                    <input type="hidden" name="systolic" value="{{ systolic }}">
                    <input type="hidden" name="diastolic" value="{{ diastolic }}">
                    <input type="hidden" name="result" value="{{ result }}">
                    <button type="submit">Download PDF</button>
                </form>
            </div>

        {% elif prediction_text %}
            <p class="highlight">{{ prediction_text }}</p>
            <a href="/">Try Again</a>
        {% else %}
            <p class="highlight">No result available.</p>
            <a href="/">Back to Home</a>
        {% endif %}
    </div>
</body>

</html> -->


<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Assessment Results - Predictive Pulse</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
        }

        /* Animated background particles */
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: 1;
        }

        .particle {
            position: absolute;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            animation: float 8s ease-in-out infinite;
        }

        .particle:nth-child(1) {
            width: 60px;
            height: 60px;
            left: 15%;
            animation-delay: 0s;
        }

        .particle:nth-child(2) {
            width: 40px;
            height: 40px;
            left: 25%;
            animation-delay: 2s;
        }

        .particle:nth-child(3) {
            width: 80px;
            height: 80px;
            left: 35%;
            animation-delay: 1s;
        }

        .particle:nth-child(4) {
            width: 50px;
            height: 50px;
            left: 45%;
            animation-delay: 3s;
        }

        .particle:nth-child(5) {
            width: 70px;
            height: 70px;
            left: 55%;
            animation-delay: 1.5s;
        }

        .particle:nth-child(6) {
            width: 30px;
            height: 30px;
            left: 65%;
            animation-delay: 2.5s;
        }

        .particle:nth-child(7) {
            width: 60px;
            height: 60px;
            left: 75%;
            animation-delay: 0.5s;
        }

        .particle:nth-child(8) {
            width: 40px;
            height: 40px;
            left: 85%;
            animation-delay: 3.5s;
        }

        @keyframes float {

            0%,
            100% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }

            10% {
                opacity: 1;
            }

            90% {
                opacity: 1;
            }

            100% {
                transform: translateY(-100px) rotate(360deg);
                opacity: 0;
            }
        }

        .container {
            position: relative;
            z-index: 2;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .results-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 24px;
            padding: 50px;
            text-align: center;
            box-shadow: 0 25px 60px rgba(0, 0, 0, 0.15), 0 0 0 1px rgba(255, 255, 255, 0.2);
            position: relative;
            overflow: hidden;
            animation: slideIn 1s ease-out forwards;
            transform: translateY(30px);
            opacity: 0;
        }

        @keyframes slideIn {
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .results-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            animation: shimmer 3s ease-in-out infinite;
        }

        @keyframes shimmer {
            0% {
                left: -100%;
            }

            100% {
                left: 100%;
            }
        }

        .success-animation {
            width: 120px;
            height: 120px;
            margin: 0 auto 30px;
            position: relative;
        }

        .checkmark {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            display: block;
            stroke-width: 3;
            stroke: #27ae60;
            stroke-miterlimit: 10;
            margin: 0 auto;
            animation: checkmark 0.6s cubic-bezier(0.65, 0, 0.45, 1) forwards;
            transform: rotate(0deg);
        }

        .checkmark-circle {
            stroke-dasharray: 377;
            stroke-dashoffset: 377;
            animation: circle 1s cubic-bezier(0.65, 0, 0.45, 1) forwards;
        }

        .checkmark-check {
            stroke-dasharray: 36;
            stroke-dashoffset: 36;
            animation: check 0.5s cubic-bezier(0.65, 0, 0.45, 1) 0.8s forwards;
        }

        @keyframes circle {
            to {
                stroke-dashoffset: 0;
            }
        }

        @keyframes check {
            to {
                stroke-dashoffset: 0;
            }
        }

        .results-header {
            margin-bottom: 40px;
        }

        .results-title {
            font-size: 2.8em;
            font-weight: 800;
            background: linear-gradient(135deg, #2c3e50, #3498db);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 15px;
            line-height: 1.2;
        }

        .results-subtitle {
            color: #64748b;
            font-size: 1.2em;
            margin-bottom: 30px;
        }

        .patient-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .info-card {
            background: rgba(79, 172, 254, 0.05);
            padding: 25px;
            border-radius: 16px;
            border: 1px solid rgba(79, 172, 254, 0.1);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .info-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(79, 172, 254, 0.15);
            background: rgba(79, 172, 254, 0.08);
        }

        .info-icon {
            width: 50px;
            height: 50px;
            margin: 0 auto 15px;
            background: linear-gradient(135deg, #4facfe, #00f2fe);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 20px;
        }

        .info-label {
            font-size: 0.9em;
            color: #64748b;
            margin-bottom: 5px;
            font-weight: 500;
        }

        .info-value {
            font-size: 1.3em;
            font-weight: 700;
            color: #2c3e50;
        }

        .prediction-result {
            background: linear-gradient(135deg, rgba(39, 174, 96, 0.1), rgba(46, 204, 113, 0.1));
            padding: 40px;
            border-radius: 20px;
            margin: 40px 0;
            border: 2px solid rgba(39, 174, 96, 0.2);
            position: relative;
        }

        .result-icon {
            width: 80px;
            height: 80px;
            margin: 0 auto 20px;
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 35px;
            box-shadow: 0 10px 30px rgba(39, 174, 96, 0.3);
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {

            0%,
            100% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.05);
            }
        }

        .result-stage {
            font-size: 2.5em;
            font-weight: 800;
            color: #27ae60;
            margin-bottom: 15px;
            text-shadow: 0 2px 10px rgba(39, 174, 96, 0.2);
        }

        .result-description {
            font-size: 1.1em;
            color: #2c3e50;
            line-height: 1.6;
            max-width: 600px;
            margin: 0 auto;
        }

        /* Dynamic result styling based on severity */
        .result-normal .prediction-result {
            background: linear-gradient(135deg, rgba(39, 174, 96, 0.1), rgba(46, 204, 113, 0.1));
            border-color: rgba(39, 174, 96, 0.2);
        }

        .result-normal .result-icon {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
        }

        .result-normal .result-stage {
            color: #27ae60;
        }

        .result-elevated .prediction-result {
            background: linear-gradient(135deg, rgba(255, 193, 7, 0.1), rgba(255, 235, 59, 0.1));
            border-color: rgba(255, 193, 7, 0.2);
        }

        .result-elevated .result-icon {
            background: linear-gradient(135deg, #ffc107, #ffeb3b);
        }

        .result-elevated .result-stage {
            color: #f57c00;
        }

        .result-stage1 .prediction-result,
        .result-stage2 .prediction-result {
            background: linear-gradient(135deg, rgba(255, 152, 0, 0.1), rgba(255, 87, 34, 0.1));
            border-color: rgba(255, 152, 0, 0.2);
        }

        .result-stage1 .result-icon,
        .result-stage2 .result-icon {
            background: linear-gradient(135deg, #ff9800, #ff5722);
        }

        .result-stage1 .result-stage,
        .result-stage2 .result-stage {
            color: #e65100;
        }

        .result-crisis .prediction-result,
        .result-hypotension .prediction-result {
            background: linear-gradient(135deg, rgba(244, 67, 54, 0.1), rgba(229, 57, 53, 0.1));
            border-color: rgba(244, 67, 54, 0.2);
        }

        .result-crisis .result-icon,
        .result-hypotension .result-icon {
            background: linear-gradient(135deg, #f44336, #e53935);
        }

        .result-crisis .result-stage,
        .result-hypotension .result-stage {
            color: #c62828;
        }

        .recommendations {
            background: rgba(255, 255, 255, 0.8);
            padding: 30px;
            border-radius: 16px;
            margin: 30px 0;
            text-align: left;
            border: 1px solid rgba(100, 116, 139, 0.1);
        }

        .recommendations-title {
            font-size: 1.5em;
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .recommendations-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #4facfe, #00f2fe);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 18px;
        }

        .recommendation-item {
            display: flex;
            align-items: flex-start;
            gap: 15px;
            margin-bottom: 15px;
            padding: 15px;
            background: rgba(79, 172, 254, 0.05);
            border-radius: 10px;
            transition: all 0.3s ease;
        }

        .recommendation-item:hover {
            background: rgba(79, 172, 254, 0.1);
            transform: translateX(5px);
        }

        .recommendation-bullet {
            width: 8px;
            height: 8px;
            background: #4facfe;
            border-radius: 50%;
            margin-top: 6px;
            flex-shrink: 0;
        }

        .recommendation-text {
            color: #2c3e50;
            line-height: 1.6;
            font-size: 1em;
        }

        .action-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 40px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 15px 30px;
            border-radius: 50px;
            font-size: 1em;
            font-weight: 600;
            text-decoration: none;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.6s ease;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn-primary {
            background: linear-gradient(135deg, #4facfe, #00f2fe);
            color: white;
            box-shadow: 0 8px 25px rgba(79, 172, 254, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 35px rgba(79, 172, 254, 0.4);
        }

        .btn-secondary {
            background: rgba(100, 116, 139, 0.1);
            color: #64748b;
            border: 2px solid rgba(100, 116, 139, 0.2);
        }

        .btn-secondary:hover {
            background: rgba(100, 116, 139, 0.15);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(100, 116, 139, 0.2);
        }

        .btn-download {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            color: white;
            box-shadow: 0 8px 25px rgba(39, 174, 96, 0.3);
        }

        .btn-download:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 35px rgba(39, 174, 96, 0.4);
        }

        .disclaimer {
            background: linear-gradient(135deg, rgba(255, 193, 7, 0.1), rgba(255, 235, 59, 0.1));
            padding: 25px;
            border-radius: 16px;
            margin-top: 30px;
            border-left: 4px solid #ffc107;
            text-align: left;
        }

        .disclaimer-title {
            font-weight: 600;
            color: #f57c00;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 1.1em;
        }

        .disclaimer-text {
            color: #2c3e50;
            line-height: 1.6;
            font-size: 0.95em;
        }

        /* Loading animation for PDF generation */
        .btn.loading {
            pointer-events: none;
            opacity: 0.8;
        }

        .spinner {
            width: 16px;
            height: 16px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-top: 2px solid white;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }

            .results-card {
                padding: 30px 25px;
            }

            .results-title {
                font-size: 2.2em;
            }

            .patient-info {
                grid-template-columns: 1fr;
                gap: 15px;
            }

            .action-buttons {
                flex-direction: column;
                align-items: center;
            }

            .btn {
                width: 100%;
                justify-content: center;
                max-width: 300px;
            }

            .result-stage {
                font-size: 2em;
            }
        }

        /* Success confetti animation */
        .confetti {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: hidden;
        }

        .confetti-piece {
            position: absolute;
            width: 10px;
            height: 10px;
            background: #4facfe;
            animation: confetti-fall 3s ease-out forwards;
        }

        .confetti-piece:nth-child(odd) {
            background: #00f2fe;
        }

        .confetti-piece:nth-child(3n) {
            background: #27ae60;
        }

        .confetti-piece:nth-child(4n) {
            background: #ffc107;
        }

        @keyframes confetti-fall {
            0% {
                transform: translateY(-100vh) rotate(0deg);
                opacity: 1;
            }

            100% {
                transform: translateY(100vh) rotate(720deg);
                opacity: 0;
            }
        }
    </style>
</head>

<body>
    <!-- Animated Background Particles -->
    <div class="particles">
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
    </div>

    <div class="container">
        <div class="results-card" id="resultsCard">
            <!-- Success Animation -->
            <div class="success-animation">
                <svg class="checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52">
                    <circle class="checkmark-circle" cx="26" cy="26" r="25" fill="none" />
                    <path class="checkmark-check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8" />
                </svg>
            </div>

            <div class="results-header">
                <h1 class="results-title">Assessment Complete</h1>
                <p class="results-subtitle">Your hypertension risk analysis is ready</p>
            </div>

            {% if result %}
            <div class="patient-info">
                <div class="info-card">
                    <div class="info-icon">
                        <i class="fas fa-user"></i>
                    </div>
                    <div class="info-label">Patient Name</div>
                    <div class="info-value">{{ name }}</div>
                </div>
                <div class="info-card">
                    <div class="info-icon">
                        <i class="fas fa-arrow-up"></i>
                    </div>
                    <div class="info-label">Systolic BP</div>
                    <div class="info-value">{{ systolic }} mmHg</div>
                </div>
                <div class="info-card">
                    <div class="info-icon">
                        <i class="fas fa-arrow-down"></i>
                    </div>
                    <div class="info-label">Diastolic BP</div>
                    <div class="info-value">{{ diastolic }} mmHg</div>
                </div>
            </div>

            <div class="prediction-result" id="predictionResult">
                <div class="result-icon">
                    <i class="fas fa-heartbeat"></i>
                </div>
                <div class="result-stage">{{ result }}</div>
                <div class="result-description" id="resultDescription">
                    Based on your assessment, this is your current hypertension classification.
                </div>
            </div>

            <div class="recommendations">
                <div class="recommendations-title">
                    <div class="recommendations-icon">
                        <i class="fas fa-clipboard-list"></i>
                    </div>
                    Recommendations
                </div>
                <div id="recommendationsList">
                    <!-- Recommendations will be populated by JavaScript -->
                </div>
            </div>

            <div class="action-buttons">
                <a href="/" class="btn btn-secondary">
                    <i class="fas fa-home"></i>
                    Back to Home
                </a>
                <form action="/download-report" method="post" style="display: inline;">
                    <input type="hidden" name="name" value="{{ name }}">
                    <input type="hidden" name="systolic" value="{{ systolic }}">
                    <input type="hidden" name="diastolic" value="{{ diastolic }}">
                    <input type="hidden" name="result" value="{{ result }}">
                    <button type="submit" class="btn btn-download" id="downloadBtn">
                        <i class="fas fa-download"></i>
                        Download Report
                    </button>
                </form>
                <a href="/details" class="btn btn-primary">
                    <i class="fas fa-redo"></i>
                    New Assessment
                </a>
            </div>

            {% elif prediction_text %}
            <div class="prediction-result">
                <div class="result-icon">
                    <i class="fas fa-exclamation-triangle"></i>
                </div>
                <div class="result-stage">Assessment Error</div>
                <div class="result-description">{{ prediction_text }}</div>
            </div>

            <div class="action-buttons">
                <a href="/details" class="btn btn-primary">
                    <i class="fas fa-redo"></i>
                    Try Again
                </a>
            </div>

            {% else %}
            <div class="prediction-result">
                <div class="result-icon">
                    <i class="fas fa-question-circle"></i>
                </div>
                <div class="result-stage">No Results</div>
                <div class="result-description">No assessment results available. Please complete the health assessment.
                </div>
            </div>

            <div class="action-buttons">
                <a href="/details" class="btn btn-primary">
                    <i class="fas fa-clipboard-check"></i>
                    Start Assessment
                </a>
            </div>
            {% endif %}

            <div class="disclaimer">
                <div class="disclaimer-title">
                    <i class="fas fa-info-circle"></i>
                    Important Medical Disclaimer
                </div>
                <div class="disclaimer-text">
                    This assessment is for informational purposes only and should not replace professional medical
                    advice, diagnosis, or treatment. Always consult with qualified healthcare providers for medical
                    concerns and before making health-related decisions.
                </div>
            </div>

            <!-- Confetti for celebration -->
            <div class="confetti" id="confetti"></div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const result = '{{ result }}';
            const resultsCard = document.getElementById('resultsCard');
            const predictionResult = document.getElementById('predictionResult');
            const resultDescription = document.getElementById('resultDescription');
            const recommendationsList = document.getElementById('recommendationsList');
            const downloadBtn = document.getElementById('downloadBtn');

            // Set result-specific styling and content
            if (result) {
                setResultStyling(result.toLowerCase());
                setRecommendations(result);
                createConfetti();
            }

            // Download button loading state
            if (downloadBtn) {
                downloadBtn.addEventListener('click', function () {
                    this.classList.add('loading');
                    this.innerHTML = '<div class="spinner"></div> Generating PDF...';

                    // Reset after 3 seconds (PDF should be generated by then)
                    setTimeout(() => {
                        this.classList.remove('loading');
                        this.innerHTML = '<i class="fas fa-download"></i> Download Report';
                    }, 3000);
                });
            }

            function setResultStyling(result) {
                resultsCard.classList.remove('result-normal', 'result-elevated', 'result-stage1', 'result-stage2', 'result-crisis', 'result-hypotension');

                if (result === 'normal') {
                    resultsCard.classList.add('result-normal');
                } else if (result === 'elevated') {
                    resultsCard.classList.add('result-elevated');
                } else if (result === 'stage 1') {
                    resultsCard.classList.add('result-stage1');
                } else if (result === 'stage 2') {
                    resultsCard.classList.add('result-stage2');
                } else if (result === 'hypertensive crisis') {
                    resultsCard.classList.add('result-crisis');
                } else if (result === 'hypotension') {
                    resultsCard.classList.add('result-hypotension');
                }
            }

            function setRecommendations(result) {
                const recommendations = {
                    'Normal': [
                        'Continue maintaining your current healthy lifestyle',
                        'Monitor blood pressure regularly as part of routine health checks',
                        'Maintain a balanced diet rich in fruits and vegetables',
                        'Exercise regularly (at least 150 minutes moderate activity per week)',
                        'Limit sodium intake to less than 2,300mg per day'
                    ],
                    'Elevated': [
                        'Implement lifestyle changes to prevent progression to hypertension',
                        'Reduce sodium intake and increase potassium-rich foods',
                        'Increase physical activity and maintain healthy weight',
                        'Monitor blood pressure more frequently (monthly)',
                        'Consider stress management techniques',
                        'Schedule follow-up with healthcare provider in 3-6 months'
                    ],
                    'Stage 1': [
                        'Consult with your healthcare provider about treatment options',
                        'Lifestyle modifications are essential (diet, exercise, weight management)',
                        'Consider antihypertensive medication if lifestyle changes are insufficient',
                        'Monitor blood pressure weekly at home',
                        'Limit alcohol consumption and quit smoking if applicable',
                        'Schedule regular follow-ups with your doctor'
                    ],
                    'Stage 2': [
                        'Seek immediate medical attention for proper treatment planning',
                        'Medication therapy is typically required in addition to lifestyle changes',
                        'Monitor blood pressure daily at home',
                        'Follow a heart-healthy diet (DASH diet recommended)',
                        'Maintain regular exercise routine as approved by your doctor',
                        'Take medications as prescribed and attend all follow-up appointments'
                    ],
                    'Hypertensive Crisis': [
                        'SEEK IMMEDIATE EMERGENCY MEDICAL ATTENTION',
                        'Go to the emergency room or call emergency services immediately',
                        'Do not wait - this is a medical emergency',
                        'Bring all current medications with you to the hospital',
                        'Follow all emergency medical instructions carefully'
                    ],
                    'Hypotension': [
                        'Increase fluid intake (unless contraindicated by your doctor)',
                        'Consider increasing salt intake if recommended by healthcare provider',
                        'Rise slowly from sitting or lying positions to prevent dizziness',
                        'Wear compression stockings if recommended',
                        'Consult healthcare provider to identify underlying causes',
                        'Monitor symptoms and blood pressure regularly'
                    ]
                };

                const resultRecommendations = recommendations[result] || recommendations['Normal'];

                if (recommendationsList) {
                    recommendationsList.innerHTML = '';
                    resultRecommendations.forEach((recommendation, index) => {
                        const item = document.createElement('div');
                        item.className = 'recommendation-item';
                        item.style.animationDelay = `${index * 0.1}s`;
                        item.innerHTML = `
                            <div class="recommendation-bullet"></div>
                            <div class="recommendation-text">${recommendation}</div>
                        `;
                        recommendationsList.appendChild(item);
                    });
                }

                // Update description based on result
                const descriptions = {
                    'Normal': 'Your blood pressure is in the normal range. Keep up the good work with your healthy lifestyle!',
                    'Elevated': 'Your blood pressure is elevated. Lifestyle changes can help prevent it from progressing to hypertension.',
                    'Stage 1': 'You have Stage 1 hypertension. Consult your healthcare provider about treatment options.',
                    'Stage 2': 'You have Stage 2 hypertension. Medical intervention is typically required.',
                    'Hypertensive Crisis': 'This is a hypertensive crisis requiring immediate medical attention.',
                    'Hypotension': 'Your blood pressure is lower than normal. Consult with a healthcare provider.'
                };

                if (resultDescription) {
                    resultDescription.textContent = descriptions[result] || descriptions['Normal'];
                }
            }

            function createConfetti() {
                const confetti = document.getElementById('confetti');
                const colors = ['#4facfe', '#00f2fe', '#27ae60', '#ffc107'];

                for (let i = 0; i < 50; i++) {
                    const piece = document.createElement('div');
                    piece.className = 'confetti-piece';
                    piece.style.left = Math.random() * 100 + '%';
                    piece.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    piece.style.animationDelay = Math.random() * 3 + 's';
                    piece.style.animationDuration = (Math.random() * 3 + 2) + 's';
                    confetti.appendChild(piece);
                }

                // Remove confetti after animation
                setTimeout(() => {
                    confetti.innerHTML = '';
                }, 6000);
            }

            // Add smooth animations for elements
            const infoCards = document.querySelectorAll('.info-card');
            infoCards.forEach((card, index) => {
                card.style.animationDelay = `${0.3 + index * 0.1}s`;
                card.style.animation = 'slideIn 0.8s ease-out forwards';
                card.style.transform = 'translateY(20px)';
                card.style.opacity = '0';
            });

            // Animate recommendations
            setTimeout(() => {
                const recommendationItems = document.querySelectorAll('.recommendation-item');
                recommendationItems.forEach((item, index) => {
                    setTimeout(() => {
                        item.style.transform = 'translateX(0)';
                        item.style.opacity = '1';
                    }, index * 100);
                    item.style.transform = 'translateX(-20px)';
                    item.style.opacity = '0';
                    item.style.transition = 'all 0.5s ease-out';
                });
            }, 1000);
        });
    </script>
</body>

</html>